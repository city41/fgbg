{"version":3,"sources":["webpack:///./src/components/backgroundHeader.tsx","webpack:///./src/components/backgroundMetaData.tsx","webpack:///./src/components/levelImage.tsx","webpack:///./src/components/correctionForm.tsx","webpack:///./src/components/correctionModal.tsx","webpack:///./src/components/backgroundTemplate.tsx","webpack:///./src/util/slug.ts","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/util/backgroundPath.ts","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/layout.tsx","webpack:///./src/util/systemPath.ts","webpack:///./src/util/yearPath.ts","webpack:///./src/util/gamePath.ts","webpack:///./src/util/developerPath.ts"],"names":["BackgroundHeader","_ref","className","nextLevel","prevLevel","classes","classnames","styles","root","react_default","a","createElement","nextLevelContainer","gatsby_browser_entry","to","backgroundPath","levelName","gameNameUsa","index_esm","BackgroundMetaData","developer","system","year","levelNameRow","colSpan","gamePath","developerPath","systemPath","yearPath","LevelImage","width","height","src","alt","actualImageWidth","parseInt","imageAspectRatio","paddingTop","Math","floor","style","mapToGoogle","gameName","series","url","siteUrl","BASE_URL","useCorrectionForm","currentPathname","_useState","useState","inputs","setInputs","_useState2","hasSubmitted","setHasSubmitted","handleSubmit","event","preventDefault","fetch","queryString","Object","keys","reduce","building","inputKey","googleKey","value","encodeURIComponent","concat","join","getGoogleUrl","method","handleInputChange","persist","_Object$assign","assign","target","name","hasData","filter","k","some","trim","CorrectionForm","imageUrl","onClose","_useCorrectionForm","window","location","pathname","nonSubmittedHeader","submittedHeader","type","onClick","e","header","inputGrid","htmlFor","readOnly","onChange","disabled","CorrectionModal","isOpen","onRequestClose","lib_default","correctionForm_CorrectionForm","query","BackgroundTemplate","data","showSubmitCorrection","setShowSubmitCorrection","correctionModalOpen","setCorrectionModalOpen","useEffect","levelData","currentLevel","useHotkeys","navigate","imgUrl","mainImg","publicURL","bgImageUrl","bgImg","childImageSharp","resize","levelDescription","Fragment","correctionModal_CorrectionModal","layout","Helmet","blur","backgroundImage","imageContainer","levelImage_LevelImage","levelImage","dimensions","metaDataContainer","correctionLink","backgroundMetaData_BackgroundMetaData","metaData","backgroundHeader_BackgroundHeader","__webpack_require__","d","__webpack_exports__","slug","slugify__WEBPACK_IMPORTED_MODULE_0__","slugify__WEBPACK_IMPORTED_MODULE_0___default","n","str","slugify","remove","lower","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","gatsby_link__WEBPACK_IMPORTED_MODULE_1__","gatsby_link__WEBPACK_IMPORTED_MODULE_1___default","React","createContext","m","module","exports","require","default","_slug__WEBPACK_IMPORTED_MODULE_0__","map","ProdPageRenderer","pageResources","InternalPageRenderer","json","Layout","gatsby__WEBPACK_IMPORTED_MODULE_1__","_layout_module_css__WEBPACK_IMPORTED_MODULE_2__","_layout_module_css__WEBPACK_IMPORTED_MODULE_2___default","children","logo"],"mappings":"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","file":"component---src-components-background-template-tsx-899945007f7c9e7200b2.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"gatsby\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport classnames from \"classnames\";\nimport { backgroundPath } from \"../util/backgroundPath\";\n\nimport styles from \"./backgroundHeader.module.css\";\n\ninterface BackgroundHeaderProps {\n    className?: string;\n    prevLevel: {\n        gameNameUsa: string;\n        levelName: string;\n    };\n    nextLevel: {\n        gameNameUsa: string;\n        levelName: string;\n    };\n}\n\nexport const BackgroundHeader: React.FunctionComponent<BackgroundHeaderProps> = ({\n    className,\n    prevLevel,\n    nextLevel,\n}) => {\n    const classes = classnames(styles.root, className);\n\n    return (\n        <header className={classes}>\n            <div className={styles.nextLevelContainer}>\n                <Link to={backgroundPath(nextLevel)}>\n                    next up, <span className={styles.levelName}>{nextLevel.levelName}</span> from{\" \"}\n                    {nextLevel.gameNameUsa} <FaChevronRight />\n                </Link>\n            </div>\n        </header>\n    );\n};\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport classnames from \"classnames\";\nimport { systemPath } from \"../util/systemPath\";\nimport { yearPath } from \"../util/yearPath\";\nimport { gamePath } from \"../util/gamePath\";\nimport { developerPath } from \"../util/developerPath\";\n\nimport styles from \"./backgroundMetaData.module.css\";\n\ninterface BackgroundMetaDataProps {\n    className?: string;\n    levelName: string;\n    gameNameUsa: string;\n    system: string;\n    year?: string;\n}\n\nexport const BackgroundMetaData: React.FunctionComponent<BackgroundMetaDataProps> = ({\n    className,\n    levelName,\n    gameNameUsa,\n    developer,\n    system,\n    year,\n}) => {\n    const classes = classnames(styles.root, className);\n\n    return (\n        <table className={classes}>\n            <tbody>\n                <tr className={styles.levelNameRow}>\n                    <td colSpan={2}>{levelName}</td>\n                </tr>\n                <tr>\n                    <td>game</td>\n                    <td>\n                        <Link to={gamePath(gameNameUsa)}>{gameNameUsa}</Link>\n                    </td>\n                </tr>\n                <tr>\n                    <td>developer</td>\n                    <td>\n                        <Link to={developerPath(developer)}>{developer}</Link>\n                    </td>\n                </tr>\n                <tr>\n                    <td>system</td>\n                    <td>\n                        <Link to={systemPath(system)}>{system}</Link>\n                    </td>\n                </tr>\n                <tr>\n                    <td>released</td>\n                    <td>\n                        <Link to={yearPath(year)}>{year || \"?\"}</Link>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    );\n};\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nimport styles from \"./levelImage.module.css\";\n\ninterface LevelImageProps {\n    className?: string;\n    width: string;\n    height: string;\n    src: string;\n    alt: string;\n}\n\nexport const LevelImage: React.FunctionComponent<LevelImageProps> = ({ className, width, height, src, alt }) => {\n    const classes = classnames(styles.root, className);\n\n    // const [loading, setLoading] = useState(false);\n    // const [hadError, setHadError] = useState(false);\n\n    const actualImageWidth = parseInt(width);\n    const actualImageHeight = parseInt(height);\n    const imageAspectRatio = actualImageHeight / actualImageWidth;\n    const paddingTop = `${Math.floor(imageAspectRatio * 100)}%`;\n\n    return (\n        <div className={classes} style={{ paddingTop }}>\n            <img src={src} alt={alt} />\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\nimport classnames from \"classnames\";\n\nimport styles from \"./correctionForm.module.css\";\n\ninterface CorrectionFormProps {\n    className?: string;\n    imageUrl?: string;\n    onClose: () => void;\n}\n\nconst mapToGoogle = {\n    levelName: \"entry.1758812684\",\n    gameName: \"entry.1658808931\",\n    system: \"entry.2024056467\",\n    developer: \"entry.726710484\",\n    year: \"entry.906557948\",\n    series: \"entry.1788056905\",\n    url: \"entry.89449791\",\n    siteUrl: \"entry.36955456\",\n};\n\nconst formId = \"1FAIpQLScSRFk3nVFwV0obvwZsd6H-oAG7SCXM7FsXZ6cU-YsyiqDzAQ\";\nconst BASE_URL = `https://docs.google.com/forms/d/e/${formId}/formResponse?`;\n\nfunction getGoogleUrl(inputs: any): string {\n    const queryParamArray = Object.keys(inputs).reduce((building, inputKey) => {\n        const googleKey = mapToGoogle[inputKey];\n        const value = encodeURIComponent(inputs[inputKey]);\n\n        return building.concat(`${googleKey}=${value}`);\n    }, []);\n\n    const queryString = queryParamArray.join(\"&\");\n\n    return BASE_URL + queryString;\n}\n\nconst useCorrectionForm = (currentPathname: string) => {\n    const [inputs, setInputs] = useState({ siteUrl: currentPathname });\n    const [hasSubmitted, setHasSubmitted] = useState(false);\n\n    const handleSubmit = event => {\n        if (event) {\n            event.preventDefault();\n        }\n\n        fetch(getGoogleUrl(inputs), {\n            method: \"POST\",\n        });\n\n        setHasSubmitted(true);\n    };\n\n    const handleInputChange = event => {\n        event.persist();\n        setInputs(inputs => ({ ...inputs, [event.target.name]: event.target.value }));\n    };\n\n    return {\n        handleSubmit,\n        handleInputChange,\n        inputs,\n        hasSubmitted,\n    };\n};\n\nfunction hasData(inputs: { [key: string]: string }): boolean {\n    const keys = Object.keys(inputs).filter(k => k !== \"siteUrl\");\n\n    return keys.some(k => inputs[k] && inputs[k].trim());\n}\n\nexport const CorrectionForm: React.FunctionComponent<CorrectionFormProps> = ({ className, imageUrl, onClose }) => {\n    const { handleInputChange, handleSubmit, inputs, hasSubmitted }: any = useCorrectionForm(window.location.pathname);\n\n    const classes = classnames(styles.root, className);\n\n    const nonSubmittedHeader = (\n        <div>\n            <h3>Found an error?</h3>\n            All fields are optional, just fill in whatever needs fixing.\n        </div>\n    );\n\n    const submittedHeader = (\n        <div className={styles.submittedHeader}>\n            <h3>Thanks!</h3>\n            <div>Thanks for improving the site! We will correct the mistake right away</div>\n            <input\n                type=\"submit\"\n                value=\"OK\"\n                onClick={e => {\n                    onClose();\n                }}\n            />\n        </div>\n    );\n\n    return (\n        <div className={classes}>\n            <div>\n                <div className={styles.header}>\n                    <img src={imageUrl} />\n                    {hasSubmitted ? submittedHeader : nonSubmittedHeader}\n                </div>\n                {!hasSubmitted && (\n                    <div className={styles.inputGrid}>\n                        <label htmlFor=\"levelName\">level name</label>\n                        <input\n                            readOnly={hasSubmitted}\n                            type=\"text\"\n                            name=\"levelName\"\n                            value={inputs.levelName}\n                            onChange={handleInputChange}\n                        />\n                        <label htmlFor=\"gameName\">game name</label>\n                        <input\n                            readOnly={hasSubmitted}\n                            type=\"text\"\n                            name=\"gameName\"\n                            value={inputs.gameName}\n                            onChange={handleInputChange}\n                        />\n                        <label htmlFor=\"developer\">developer</label>\n                        <input\n                            readOnly={hasSubmitted}\n                            type=\"text\"\n                            name=\"developer\"\n                            value={inputs.developer}\n                            onChange={handleInputChange}\n                        />\n                        <label htmlFor=\"system\">system</label>\n                        <input\n                            readOnly={hasSubmitted}\n                            type=\"text\"\n                            name=\"system\"\n                            value={inputs.system}\n                            onChange={handleInputChange}\n                        />\n                        <label htmlFor=\"year\">year released</label>\n                        <input\n                            readOnly={hasSubmitted}\n                            type=\"text\"\n                            name=\"year\"\n                            value={inputs.year}\n                            onChange={handleInputChange}\n                        />\n                        <label htmlFor=\"series\">series</label>\n                        <input\n                            readOnly={hasSubmitted}\n                            type=\"text\"\n                            name=\"series\"\n                            value={inputs.series}\n                            onChange={handleInputChange}\n                        />\n                        <label htmlFor=\"image\">URL of better image</label>\n                        <input\n                            readOnly={hasSubmitted}\n                            type=\"text\"\n                            name=\"url\"\n                            value={inputs.url}\n                            onChange={handleInputChange}\n                        />\n                        <input\n                            disabled={!hasData(inputs)}\n                            type=\"submit\"\n                            value=\"submit\"\n                            onClick={e => {\n                                handleSubmit(e);\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport Modal from \"react-modal\";\nimport { CorrectionForm } from \"./correctionForm\";\n\nimport styles from \"./correctionModal.module.css\";\n\ninterface CorrectionModalProps {\n    className?: string;\n    imageUrl?: string;\n    isOpen: boolean;\n    onRequestClose: () => void;\n}\n\nexport const CorrectionModal: React.FunctionComponent<CorrectionModalProps> = ({\n    className,\n    imageUrl,\n    isOpen,\n    onRequestClose,\n}) => {\n    const classes = classnames(styles.root, className);\n\n    return (\n        <Modal className={classes} isOpen={isOpen} onRequestClose={onRequestClose}>\n            <CorrectionForm imageUrl={imageUrl} onClose={onRequestClose} />\n        </Modal>\n    );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\nimport { navigate } from \"@reach/router\";\nimport { graphql } from \"gatsby\";\nimport { Layout } from \"./layout\";\nimport { BackgroundHeader } from \"./backgroundHeader\";\nimport { BackgroundMetaData } from \"./backgroundMetaData\";\nimport { LevelImage } from \"./levelImage\";\nimport { backgroundPath } from \"../util/backgroundPath\";\nimport { CorrectionModal } from \"./correctionModal\";\n\nimport styles from \"./backgroundTemplate.module.css\";\n\nconst BackgroundTemplate: React.FunctionComponent = ({ data }) => {\n    const [showSubmitCorrection, setShowSubmitCorrection] = useState(false);\n    const [correctionModalOpen, setCorrectionModalOpen] = useState(false);\n\n    useEffect(() => {\n        setShowSubmitCorrection(true);\n    }, []);\n\n    const levelData = data.currentLevel;\n    const prevLevel = data.prevLevel;\n    const nextLevel = data.nextLevel;\n\n    useHotkeys(\"left\", () => navigate(backgroundPath(prevLevel)));\n    useHotkeys(\"right\", () => navigate(backgroundPath(nextLevel)));\n\n    const imgUrl = data.mainImg.publicURL;\n    const bgImageUrl = data.bgImg.childImageSharp.resize.src;\n\n    const levelDescription = `${levelData.levelName} from ${levelData.gameNameUsa}`;\n\n    return (\n        <>\n            <CorrectionModal\n                imageUrl={bgImageUrl}\n                isOpen={correctionModalOpen}\n                onRequestClose={() => setCorrectionModalOpen(false)}\n            />\n            <Layout>\n                <Helmet>\n                    <title>{levelDescription} - FGBG</title>\n                </Helmet>\n                <div className={styles.blur} style={{ backgroundImage: `url(${bgImageUrl})` }} />\n                <div className={styles.root}>\n                    <div className={styles.imageContainer}>\n                        <LevelImage\n                            className={styles.levelImage}\n                            width={data.dimensions.width}\n                            height={data.dimensions.height}\n                            src={imgUrl}\n                            alt={levelDescription}\n                        />\n                        <div className={styles.metaDataContainer}>\n                            {showSubmitCorrection && (\n                                <div className={styles.correctionLink}>\n                                    <a onClick={() => setCorrectionModalOpen(true)}>submit a correction</a>\n                                </div>\n                            )}\n                            <BackgroundMetaData className={styles.metaData} {...levelData} />\n                        </div>\n                    </div>\n                </div>\n                <BackgroundHeader className={styles.header} prevLevel={prevLevel} nextLevel={nextLevel} />\n            </Layout>\n        </>\n    );\n};\n\nexport const query = graphql`\n    query(\n        $currentId: String!\n        $prevId: String!\n        $nextId: String!\n        $mainImageRelativePath: String!\n        $mainImageRegex: String!\n        $bgImageRelativePath: String!\n    ) {\n        currentLevel: googleSheetLeveldataRow(id: { eq: $currentId }) {\n            levelName\n            gameNameUsa\n            developer\n            system\n            year\n        }\n        prevLevel: googleSheetLeveldataRow(id: { eq: $prevId }) {\n            levelName\n            gameNameUsa\n        }\n        nextLevel: googleSheetLeveldataRow(id: { eq: $nextId }) {\n            levelName\n            gameNameUsa\n        }\n        mainImg: file(relativePath: { eq: $mainImageRelativePath }) {\n            publicURL\n        }\n        bgImg: file(relativePath: { eq: $bgImageRelativePath }) {\n            childImageSharp {\n                resize(height: 300, quality: 10) {\n                    src\n                }\n            }\n        }\n        dimensions: bgsizesCsv(file: { regex: $mainImageRegex }) {\n            width\n            height\n        }\n    }\n`;\n\nexport default BackgroundTemplate;\n","import slugify from \"slugify\";\n\nexport function slug(str: string): string {\n    return slugify(str, { remove: /[*+~.()'\"!:@]/g, lower: true });\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import { slug } from \"./slug\";\n\nexport function backgroundPath({ gameNameUsa, levelName }: { gameNameUsa: string; levelName: string }) {\n    return \"/bg:\" + [gameNameUsa, levelName].map(slug).join(\"/\");\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport logoSvg from \"../images/logo.svg\";\n\nimport styles from \"./layout.module.css\";\n\nconst keyMap = {\n    PREV_LEVEL: \"ArrowLeft\",\n    NEXT_LEVEL: \"ArrowRight\",\n};\n\nexport const Layout: React.FunctionComponent = ({ children }) => {\n    return (\n        <>\n            <Link to=\"/\">\n                <div className={styles.logo} />\n            </Link>\n            {children}\n        </>\n    );\n};\n","import { slug } from \"./slug\";\n\nexport function systemPath(system: string) {\n    return \"/system:\" + slug(system);\n}\n","import { slug } from \"./slug\";\n\nexport function yearPath(year: number | null | undefined) {\n    if (year) {\n        return \"/year:\" + year;\n    } else {\n        return \"/year:missing\";\n    }\n}\n","import { slug } from \"./slug\";\n\nexport function gamePath(gameNameUsa: string) {\n    return \"/game:\" + slug(gameNameUsa);\n}\n","import { slug } from \"./slug\";\n\nexport function developerPath(developer: string) {\n    return \"/developer:\" + slug(developer);\n}\n"],"sourceRoot":""}